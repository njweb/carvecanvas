!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.carvecanvas=t()}}(function(){return function t(n,e,r){function i(s,u){if(!e[s]){if(!n[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=e[s]={exports:{}};n[s][0].call(f.exports,function(t){var e=n[s][1][t];return i(e?e:t)},f,f.exports,t,n,e,r)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={nil:-1,moveTo:0,lineTo:1,bezierTo:2,quadTo:3};e.instructionCodes=r,e["default"]=r},{}],2:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.carve=void 0;var r=t("./codes"),i=t("./path"),o=t("./transform"),s=t("./instructions"),u=function(t,n){return n=n||{},t.instructions=n.instructions||[],t.iIndex=Number.isInteger(n.instructionIndex)?n.instructionIndex:0,t.transforms=n.transforms||[],t.tIndex=Number.isInteger(n.transformIndex)?n.transformIndex:0,t.tLowerBound=Number.isInteger(n.transformLowerBound)?n.transformLowerBound:0,t.instructor=n.instructor,t},c=function(t,n){return n<t.length&&(t[n]=-1),t},a={cache:[[0,0],[0,0],[0,0]],moveTo:function(t){return this.iIndex=(0,i.moveTo)(this.instructions,this.iIndex,this.applyTransform(this.cache[0],this.getTransform(this.cache[0]),t)),this},lineTo:function(t){return this.iIndex=(0,i.lineTo)(this.instructions,this.iIndex,this.applyTransform(this.cache[0],this.getTransform(this.cache[0]),t)),this},quadTo:function(t,n){return this.iIndex=(0,i.quadTo)(this.instructions,this.iIndex,this.applyTransform(this.cache[0],this.getTransform(this.cache[0]),t),this.applyTransform(this.cache[1],this.getTransform(this.cache[1]),n)),this},bezierTo:function(t,n,e){return this.iIndex=(0,i.bezierTo)(this.instructions,this.iIndex,this.applyTransform(this.cache[0],this.getTransform(this.cache[0]),t),this.applyTransform(this.cache[1],this.getTransform(this.cache[1]),n),this.applyTransform(this.cache[2],this.getTransform(this.cache[2]),e)),this},getInstructions:function(){return this.instructions},getTransform:function(t){return 0===this.tIndex?(t[0]=0,t[1]=0):(t[0]=this.transforms[this.tIndex-2],t[1]=this.transforms[this.tIndex-1]),t},applyTransform:function(t,n,e){return 0===this.tIndex?(t[0]=e[0],t[1]=e[1]):(0,o.apply)(t,n,e),t},pushTransform:function(t){return this.tIndex=(0,o.push)(this.transforms,this.tIndex,(0,o.merge)(this.cache[0],this.getTransform(this.cache[0]),t)),this},pushGlobalTransform:function(t){return this.tIndex=(0,o.push)(this.transforms,this.tIndex,t),this},popTransform:function(){return this.tIndex=(0,o.pop)(this.tIndex,this.tLowerBound),this},sequence:function(t,n){var e=this.tIndex,r=this.tLowerBound;return this.tLowerBound=this.tIndex,t(this,n),this.tIndex=e,this.tLowerBound=r,this},branch:function h(t,n){n=n||{},n.instructor=n.instructor||this.instructor;var h=u(Object.create(Object.getPrototypeOf(this)),n);return this.getTransform(h.transforms),h.tLowerBound=2,t(h,n.state),c(h.instructions,h.iIndex)}},f=function(t,n,e){var i=(0,s.instructions)(t,n),o=[];o[r.instructionCodes.moveTo]=i.moveTo,o[r.instructionCodes.lineTo]=i.lineTo,o[r.instructionCodes.quadTo]=i.quadTo,o[r.instructionCodes.bezierTo]=i.bezierTo;var f=function(t){for(var n=0;n<t.length&&t[n]!=-1;)n=o[t[n]](t,n)},h=function(n){var e=c(this.instructions,this.iIndex),r=function(){f(e)};return"function"==typeof n?n(t,r):r(),this.iIndex=0,this},d=u(Object.create(Object.assign({},{commit:h},a)),e);return{sequence:function(t,n){return t(d,n),d.instructions},commit:f}};e.carve=f,e["default"]=f},{"./codes":1,"./instructions":3,"./path":4,"./transform":5}],3:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,n){var e=[[0,0],[0,0],[0,0]];return{moveTo:function(r,i){var o=n(e[0],r.slice(i+1,i+3));return t.moveTo(o[0],o[1]),i+3},lineTo:function(r,i){var o=n(e[0],r.slice(i+1,i+3));return t.lineTo(o[0],o[1]),i+3},quadTo:function(r,i){var o=n(e[0],r.slice(i+1,i+3)),s=n(e[1],r.slice(i+3,i+5));return t.quadraticCurveTo(o[0],o[1],s[0],s[1]),i+5},bezierTo:function(r,i){var o=n(e[0],r.slice(i+1,i+3)),s=n(e[1],r.slice(i+3,i+5)),u=n(e[2],r.slice(i+5,i+7));return t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1]),i+7}}};e.instructions=r,e["default"]={instructions:r}},{}],4:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bezierTo=e.quadTo=e.lineTo=e.moveTo=void 0;var r=t("./codes.js"),i=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];return t[n]=r.instructionCodes.moveTo,t[n+1]=e[0],t[n+2]=e[1],n+=3},o=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];return t[n]=r.instructionCodes.lineTo,t[n+1]=e[0],t[n+2]=e[1],n+=3},s=function(t,n,e,i){return t[n]=r.instructionCodes.quadTo,t[n+1]=e[0],t[n+2]=e[1],t[n+3]=i[0],t[n+4]=i[1],n+=5},u=function(t,n,e,i,o){return t[n]=r.instructionCodes.bezierTo,t[n+1]=e[0],t[n+2]=e[1],t[n+3]=i[0],t[n+4]=i[1],t[n+5]=o[0],t[n+6]=o[1],n+7};e.moveTo=i,e.lineTo=o,e.quadTo=s,e.bezierTo=u,e["default"]={moveTo:i,lineTo:o,quadTo:s,bezierTo:u}},{"./codes.js":1}],5:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,n,e){return t[n]=e[0],t[n+1]=e[1],n+2},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(t-2,Math.max(n,0))},o=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},s=function(t,n,e){return o(t,n,e)};e.push=r,e.pop=i,e.merge=o,e.apply=s,e["default"]={push:r,pop:i,merge:o}},{}]},{},[2])(2)});